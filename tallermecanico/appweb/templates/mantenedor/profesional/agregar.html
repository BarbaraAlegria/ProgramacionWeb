{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block contenido %}



<div class="container mt-5">
  
  
  <div class="text-center">
    <h2 class="mt-4">Agregar profesional</h2>  
  </div>
  
  <form id="formAgregar" method="post" action="" enctype="multipart/form-data"
    oninput='password2.setCustomValidity(password1.value != password2.value ? "Passwords no son iguales." : "")'>
    <div class="form-group">
      <label for="correo">Correo:</label>
      <input type="email" class="form-control" name="correo" required>
    </div>
    <div class="form-group">
      <label for="password1">Password:</label>
      <input type="password" class="form-control" name="password1" required>
    </div>

    <div class="form-group">
      <label for="password2">Repita su Password:</label>
      <input type="password" class="form-control" name="password2" required>
    </div>
    {% csrf_token %}
    {{ form | crispy }}
    <button type="submit" class="btn btn-primary">Agregar</button>
    <button type="reset" class="btn btn-danger">Limpiar</button>
    <a class="btn btn-secondary btn" href="{% url 'listar_mecanicos'%}" role="button">Volver</a>
   

</form>

</div>
<script type="text/javascript">
  $(function() {
    $("#id_rut").rut({formatOn: 'keyup', 
    validateOn: 'keyup'
    }).on('rutInvalido', 
    function(){
      id_rut.setCustomValidity("RUT Inv√°lido");
        $(".div_id_rut").addClass("has-danger")
        $(".input-rut").addClass("form-control-danger")  
    }).on('rutValido', 
    function(){ 
        $(".div_id_rut").removeClass("has-danger")
        $(".div_id_rut").addClass("has-success")
        $(".input-rut").removeClass("form-control-danger")
        $(".input-rut").addClass("form-control-success")
        id_rut.setCustomValidity('')
    });
  });
</script>
{% endblock %}